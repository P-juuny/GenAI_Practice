# ğŸ¤– LangGraph AI Agent with RAG & Memory

í•œêµ­í•­ê³µëŒ€í•™êµ ìƒì„±í˜• AI íŒ€ í”„ë¡œì íŠ¸

LangGraph ê¸°ë°˜ì˜ AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ, RAG(Retrieval-Augmented Generation)ì™€ Long/Short Term Memoryë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|-----|------|
| **LLM** | GPT-4o-mini ê¸°ë°˜ ëŒ€í™” |
| **Tool Calling** | ê³„ì‚°ê¸°, ì‹œê°„, êµ¬ê¸€ ê²€ìƒ‰ |
| **RAG** | ChromaDB ê¸°ë°˜ ë…¼ë¬¸ ê²€ìƒ‰ |
| **Long Term Memory** | ChromaDBì— ì˜êµ¬ ì €ì¥ (ì„¸ì…˜ ê°„ ìœ ì§€) |
| **Short Term Memory** | LangGraph Checkpointer (ì„¸ì…˜ ë‚´ ìœ ì§€) |
| **Reflection** | ëŒ€í™” ì¤‘ìš”ë„ íŒë‹¨ í›„ ìë™ ì €ì¥ |
| **Stream** | ì‹¤ì‹œê°„ ì‘ë‹µ ì¶œë ¥ |
| **Interrupt** | ìœ„í—˜í•œ Tool ì‹¤í–‰ ì „ í™•ì¸ |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
GEN_AI_Project_Practice/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lang_graph/
â”‚   â”‚   â”œâ”€â”€ state.py        # State ì •ì˜ (Short Term Memory)
â”‚   â”‚   â”œâ”€â”€ nodes.py        # LLM, Tool ë…¸ë“œ
â”‚   â”‚   â”œâ”€â”€ graph.py        # LangGraph ê·¸ë˜í”„ êµ¬ì„±
â”‚   â”‚   â””â”€â”€ memory.py       # Reflection (ìë™ ë©”ëª¨ë¦¬ ì €ì¥)
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ tool_definitions.py  # Tool êµ¬í˜„
â”‚   â”‚   â””â”€â”€ tool_registry.py     # Tool ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ app.py          # Gradio UI
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ run.py              # LangGraph ì—†ëŠ” ë²„ì „ (ReAct Loop)
â”‚   â””â”€â”€ run_langgraph.py    # LangGraph ë²„ì „ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env                    # API í‚¤ (gitì— í¬í•¨ X)
â””â”€â”€ README.md
```

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. í´ë¡ 

```bash
git clone https://github.com/P-juuny/GenAI_Practice.git
cd GenAI_Practice
```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ ìƒì„±:

```
OPENAI_API_KEY=your_openai_api_key
GOOGLE_API_KEY=your_google_api_key
GOOGLE_CSE_ID=your_google_cse_id
```

### 4. ì‹¤í–‰

**Gradio UI:**
```bash
python src/ui/app.py
```

**í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸:**
```bash
python test/run_langgraph.py
```

**LangGraph ì—†ëŠ” ë²„ì „ (ReAct Loop):**
```bash
python test/run.py
```

---

## ğŸ“‚ ë‘ ê°€ì§€ ë²„ì „

| íŒŒì¼ | ì„¤ëª… |
|-----|------|
| `test/run.py` | LangGraph ì—†ì´ **ReAct Loop**ë¡œ êµ¬í˜„ |
| `test/run_langgraph.py` | **LangGraph** ì‚¬ìš© (State, Node, Checkpointer) |

ë‘ ë²„ì „ ëª¨ë‘ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ë§Œ êµ¬í˜„ ë°©ì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤.

---

## ğŸ’¬ ì‚¬ìš© ì˜ˆì‹œ

| ì§ˆë¬¸ | ë™ì‘ |
|-----|------|
| "ë‚´ê°€ ë°©ê¸ˆí•œ ë§ ê¸°ì–µí•´ì¤˜." | Long Term Memory ì €ì¥ |
| "ë°©ê¸ˆ ë‚´ê°€ ë­ë¼ê³  í–ˆì§€?" | Short Term Memory ì¡°íšŒ |
| "123 * 456 ê³„ì‚°í•´ì¤˜" | calculate Tool í˜¸ì¶œ |
| "transformer êµ¬ì¡° ì„¤ëª…í•´ì¤˜" | RAG ê²€ìƒ‰ |
| "ì§€ë‚œ ë²ˆì— ë‚´ê°€ ë­ë¼ê³  í–ˆì§€?" | Long Term Memory ì¡°íšŒ |

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **LLM**: OpenAI GPT-4o-mini
- **Framework**: LangGraph, LangChain
- **Vector DB**: ChromaDB
- **UI**: Gradio
- **Language**: Python 3.10+

---

## ğŸ“Š ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gradio UI  â”‚â”€â”€â”€â”€â–¶â”‚  LangGraph  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼            â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ LLM Nodeâ”‚  â”‚Tool Nodeâ”‚  â”‚ Memory  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚            â”‚            â”‚
              â–¼            â–¼            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GPT-4o  â”‚  â”‚  Tools  â”‚  â”‚ChromaDB â”‚
        â”‚  mini   â”‚  â”‚(ê³„ì‚°,ê²€ìƒ‰)â”‚  â”‚(RAG,Mem)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ LangGraph íë¦„

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    tool_calls ìˆìŒ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LLM Nodeâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚Tool Nodeâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
  â”‚                                   â”‚
  â”‚ tool_calls ì—†ìŒ                   â”‚
  â–¼                                   â”‚
 END â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---
